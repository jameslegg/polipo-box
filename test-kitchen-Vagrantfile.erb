Vagrant.configure("2") do |c|
  c.vm.box = "<%= config[:box] %>"
  c.vm.box_url = "<%= config[:box_url] %>"
<% if config[:vm_hostname] %>
  c.vm.hostname = "<%= config[:vm_hostname] %>"
<% end %>

<% Array(config[:network]).each do |opts| %>
  c.vm.network(:<%= opts[0] %>, <%= opts[1..-1].join(", ") %>)
<% end %>

  # Disable default share
  c.vm.synced_folder '.', '/vagrant', disabled: true
<% if config[:proxy][:enabled] == false %>
  # Disable proxy plugin 
  c.proxy.enabled = <%= config[:proxy][:enabled] %>
<% end %>
end
